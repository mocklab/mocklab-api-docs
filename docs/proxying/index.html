

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Proxying - MockLab</title>







<meta name="description" content="Proxying requests to other systems">

<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="MockLab">
<meta property="og:title" content="Proxying">




  <meta property="og:description" content="Proxying requests to other systems">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2017-11-13T18:18:49+00:00">
  
    <link rel="next" href="/docs/recording-stubs/" title="Recording Stubs">
  
  
    <link rel="prev" href="/docs/provisioning/" title="API Reference: Provisioning">
  





  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "",
      "url" : null,
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="MockLab Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!--<link href="https://fonts.googleapis.com/css?family=Lato|Source+Code+Pro" rel="stylesheet">-->
<!--<link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">-->
<link href="https://fonts.googleapis.com/css?family=Cairo:300" rel="stylesheet">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png">

    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<nav class="header-nav">
    <ul class="header-nav__container--left">
        <li class="header-nav__item--logo">
            <a href="/">
                <img src="/images/mocklab_logo_transparent.png" title="MockLab logo"/>
            </a>
        </li>
    </ul>

    <ul class="header-nav__container--right">



        <li class="header-nav__item header-nav__item--login">
            <a href="https://app.mocklab.io/login" title="Log in">Log in</a>
        </li>

    </ul>
</nav>


    

<div id="main" role="main">
  


<div class="sidebar sticky">
  <nav class="nav__list">

    <ul>
      

      
      <li>
        <a href="/docs/getting-started/">

        Getting Started
      </a>
      
      <li>
        <a href="/docs/stubbing/">

        Stubbing responses
      </a>
      
      <li>
        <a href="/docs/advanced-stubbing/">

        Advanced Stubbing
      </a>
      
      <li>
        <a href="/docs/response-templating/">

        Response Templating
      </a>
      
      <li>
        <a href="/docs/automated-testing-with-java/">

        Automated Testing with Java
      </a>
      
      <li>
        <a href="/docs/recording-stubs/">

        Recording Stubs
      </a>
      
      <li>
        <a href="/docs/stateful-scenarios/">

        Simulating State with Scenarios
      </a>
      
      <li>
        <a href="/docs/simulating-faults/">

        Simulating Faults
      </a>
      
      <li>
        <a href="/docs/proxying/" class="nav__list-item--selected">
        

        Proxying
      </a>
      
      <li>
        <a href="/docs/default-responses/">

        How to: Serve a Default Response
      </a>
      
      <li>
        <a href="/docs/soap-stubbing/">

        How to: Stub a SOAP response
      </a>
      
      <li>
        <a href="/docs/exploratory-testing-tutorial/">

        Tutorial: Testing a Spring Boot App
      </a>
      
      <li>
        <a href="/docs/provisioning/">

        API Reference: Provisioning
      </a>
      
      <li>
        <a href="/docs/mocking/">

        API Reference: Mocking
      </a>
      
      <li>
        <a href="/docs/terms-and-conditions/">

        MockLab Terms of Service
      </a>
      
    </ul>
  </nav>
</div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Proxying">
    <meta itemprop="description" content="When working with an existing API it can be useful to pass some requests through to it for testing, whileserving stubbed responses for others.For instance, if an API is not yet fully implemented then testing progress can still be madefor the calling application by stubbing the parts not yet completed.">
    <meta itemprop="datePublished" content="November 13, 2017">
    

    <div class="page__inner-wrap">
      <header>
        <h1 class="page__title" itemprop="headline">Proxying
</h1>
      </header>

      <section class="page__content" itemprop="text">
        <p>When working with an existing API it can be useful to pass some requests through to it for testing, while
serving stubbed responses for others.</p>

<p>For instance, if an API is not yet fully implemented then testing progress can still be made
for the calling application by stubbing the parts not yet completed.</p>

<p>Additionally, proxying all but a selection of requests enables testing of edge and failure cases that would be hard to
replicate predictably in the target API.</p>

<h2 id="usage">Usage</h2>

<p>Proxying is configured per-stub. When a stub is configured to serve a proxy response, all of the normal request matching rules
apply, but instead of returning a canned response, the request is forwarded to the target.</p>

<p>Proxying is enabled by selecting the Proxy tab in the stub’s Response section and completing (at a minimum) the base URL field.</p>

<p>Additional request headers can optionally be specified. These will be added to the proxy request if not already present,
or will override the existing value if present.</p>

<p><img src="/images/screenshots/plain-proxy-response.png" title="Proxy response" /></p>

<p>The relative part of a request’s URL will be appended onto the base URL, so given a proxy base URL of <code class="highlighter-rouge">http://my-site.com/base</code>, a
 request made to <code class="highlighter-rouge">http://my-mock-api.mocklab.io/things/1</code> would result in a proxy request to <code class="highlighter-rouge">http://my-site.com/base/things/1</code>.</p>

<h2 id="templating-the-base-url">Templating the base URL</h2>

<p>When the Enable templating check box is ticked, the base URL can be a handlebars template, meaning that properties from the
incoming request can be used to determine the URL. See <a href="/docs/response-templating/">Response Templating</a> for details of the
model and syntax used.</p>

<p><img src="/images/screenshots/templated-proxy-response.png" title="Proxy response with templating" /></p>

<h2 id="the-proxyintercept-pattern">The proxy/intercept pattern</h2>

<p>It is often desirable to proxy requests by default while stubbing a few specific cases. This can be achieved using a variation
of the <a href="/docs/default-responses/">Default Responses</a> approach.</p>

<p>In summary, the proxy stub is created to be the default, with broad request matching criteria and a low priority value. Then
 individual stubs are created at higher priorities with specific request URLs, bodies or anything else distinguishing.</p>

<p>Examples of things these specific stubs can be used for are:</p>

<ul>
  <li>Return an HTTP 503 response</li>
  <li>Return response data in a format not expected by your app’s client</li>
  <li>Close the connection prematurely without sending a response (see <a href="/docs/simulating-faults/">Simulating Faults</a>)</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        




      </footer>

      
    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-copyright">&copy; 2017 MockLab.</div>

<div id="dialog" style="display: none">
  <h2 class="mocklab-popup__title">Looking for super-quick hosted mocks? Try MockLab</h2>
  <p>Instant mock services on your own public URL, zero code required. Paste, record and generate mock data. Tester-friendly UI.</p>
</div>

      </footer>
    </div>

    <script src="/assets/js/main.min.js"></script>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-78148205-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




<script>
    window.intercomSettings = {
        app_id: "xjme6u4w"
    };
</script>
<script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/xjme6u4w';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>


  </body>
</html>

