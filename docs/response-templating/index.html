

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Response Templating - MockLab</title>







<meta name="description" content="Making responses dynamic using Handlebars templates">

<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="MockLab">
<meta property="og:title" content="Response Templating">




  <meta property="og:description" content="Making responses dynamic using Handlebars templates">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2017-08-10T15:50:37+01:00">
  
    <link rel="next" href="/docs/stubbing/" title="Stubbing responses">
  
  
    <link rel="prev" href="/docs/provisioning/" title="API Reference: Provisioning">
  





  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "",
      "url" : null,
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="MockLab Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!--<link href="https://fonts.googleapis.com/css?family=Lato|Source+Code+Pro" rel="stylesheet">-->
<!--<link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">-->
<link href="https://fonts.googleapis.com/css?family=Cairo:300" rel="stylesheet">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png">

    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<nav class="header-nav">
    <ul class="header-nav__container--left">
        <li class="header-nav__item--logo">
            <a href="/">
                <img src="/images/mocklab_logo_transparent.png" title="MockLab logo"/>
            </a>
        </li>
    </ul>

    <ul class="header-nav__container--right">



        <li class="header-nav__item header-nav__item--login">
            <a href="https://app.mocklab.io/login" title="Log in">Log in</a>
        </li>

    </ul>
</nav>


    

<div id="main" role="main">
  


<div class="sidebar sticky">
  <nav class="nav__list">

    <ul>
      

      
      <li>
        <a href="/docs/getting-started/">

        Getting Started
      </a>
      
      <li>
        <a href="/docs/stubbing/">

        Stubbing responses
      </a>
      
      <li>
        <a href="/docs/response-templating/" class="nav__list-item--selected">
        

        Response Templating
      </a>
      
      <li>
        <a href="/docs/automated-testing-with-java/">

        Automated Testing with Java
      </a>
      
      <li>
        <a href="/docs/provisioning/">

        API Reference: Provisioning
      </a>
      
      <li>
        <a href="/docs/mocking/">

        API Reference: Mocking
      </a>
      
      <li>
        <a href="/docs/terms-and-conditions/">

        MockLab Terms of Service
      </a>
      
    </ul>
  </nav>
</div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Response Templating">
    <meta itemprop="description" content="MockLab stub responses can be configured to return dynamically generated headers and body, using Handlebars templates. Thiscan be enabled by ticking the “Enable templating” box in the response section of the stub form:">
    <meta itemprop="datePublished" content="August 10, 2017">
    

    <div class="page__inner-wrap">
      <header>
        <h1 class="page__title" itemprop="headline">Response Templating
</h1>
      </header>

      <section class="page__content" itemprop="text">
        <p>MockLab stub responses can be configured to return dynamically generated headers and body, using <a href="https://github.com/jknack/handlebars.java">Handlebars templates</a>. This
can be enabled by ticking the “Enable templating” box in the response section of the stub form:</p>

<p><img src="/images/screenshots/enable-response-templating-screenshot.png" title="Enable templating" style="height: 70px" /></p>

<p>Ticking this box means that header values can be templated e.g.</p>

<p><img src="/images/screenshots/header-template-screenshot.png" title="Header template" style="height: 70px" /></p>

<p>And also the response body e.g.</p>

<p><img src="/images/screenshots/body-template-screenshot.png" title="Body template" style="height: 130px" /></p>

<p><a href="http://handlebarsjs.com/">See here</a> for a Handlebars syntax guide.</p>

<p>Currently the model passed to the template is populated with the current HTTP request. This is described in detail in the next section.</p>

<h2 id="the-request-model">The request model</h2>
<p>The model of the request is supplied to the header and body templates. The following request attributes are available:</p>

<p><code class="highlighter-rouge">request.url</code> - URL path and query</p>

<p><code class="highlighter-rouge">request.path</code> - URL path</p>

<p><code class="highlighter-rouge">request.path.[&lt;n&gt;]</code>- URL path segment (zero indexed) e.g. <code class="highlighter-rouge">request.path.[2]</code></p>

<p><code class="highlighter-rouge">request.query.&lt;key&gt;</code>- First value of a query parameter e.g. <code class="highlighter-rouge">request.query.search</code></p>

<p><code class="highlighter-rouge">request.query.&lt;key&gt;.[&lt;n&gt;]</code>- nth value of a query parameter (zero indexed) e.g. <code class="highlighter-rouge">request.query.search.[5]</code></p>

<p><code class="highlighter-rouge">request.headers.&lt;key&gt;</code>- First value of a request header e.g. <code class="highlighter-rouge">request.headers.X-Request-Id</code></p>

<p><code class="highlighter-rouge">request.headers.[&lt;key&gt;]</code>- Header with awkward characters e.g. <code class="highlighter-rouge">request.headers.[$?blah]</code></p>

<p><code class="highlighter-rouge">request.headers.&lt;key&gt;.[&lt;n&gt;]</code>- nth value of a header (zero indexed) e.g. <code class="highlighter-rouge">request.headers.ManyThings.[1]</code></p>

<p><code class="highlighter-rouge">request.cookies.&lt;key&gt;</code> - Value of a request cookie e.g. <code class="highlighter-rouge">request.cookies.JSESSIONID</code></p>

<p><code class="highlighter-rouge">request.body</code> - Request body text (avoid for non-text bodies)</p>

<h2 id="handlebars-helpers">Handlebars helpers</h2>
<p>All of the standard helpers (template functions) provided by the <a href="https://github.com/jknack/handlebars.java">Java Handlebars implementation by jknack</a>
plus all of the <a href="https://github.com/jknack/handlebars.java/blob/master/handlebars/src/main/java/com/github/jknack/handlebars/helper/StringHelpers.java">string helpers</a>
are available e.g.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">{capitalize</span><span class="w"> </span><span class="err">request.query.search</span><span class="p">}</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>


        
      </section>

      <footer class="page__meta">
        
        




      </footer>

      
    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-copyright">&copy; 2017 MockLab.</div>

<div id="dialog" style="display: none">
  <h2 class="mocklab-popup__title">Looking for super-quick hosted mocks? Try MockLab</h2>
  <p>Instant mock services on your own public URL, zero code required. Paste, record and generate mock data. Tester-friendly UI.</p>
</div>

      </footer>
    </div>

    <script src="/assets/js/main.min.js"></script>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-78148205-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>






  </body>
</html>

